function addExtraEventListeners(){console.log("إضافة مستمعات أحداث إضافية...");document.getElementById("product-thumbnails")&&(console.log("تهيئة الصور المصغرة للمنتج..."),initProductThumbnails());var e=document.querySelectorAll(".product-color-option"),e=(0<e.length&&(console.log("تهيئة اختيار لون المنتج..."),initProductColorSelection()),document.querySelectorAll(".image-nav-btn")),e=(0<e.length&&(console.log("تهيئة أزرار التنقل بين صور المنتج..."),initProductImageNavigation()),document.querySelectorAll(".mobile-color-option")),e=(0<e.length&&(console.log("تهيئة اختيار اللون للموبايل..."),initMobileColorSelection()),document.querySelectorAll(".gallery-nav-button")),e=(0<e.length&&(console.log("تهيئة أزرار التنقل في معرض الصور..."),e.forEach(t=>{t.addEventListener("click",()=>{var e=t.classList.contains("prev")?"prev":"next";console.log(`تم النقر على زر ${e} في المعرض`),navigateGallery(e)})})),document.querySelectorAll(".gallery-color-option"));0<e.length&&(console.log("تهيئة أزرار الألوان في معرض الصور..."),e.forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.color;console.log(`تم اختيار اللون ${e} في المعرض`),e&&e!==galleryCurrentColor&&(galleryCurrentColor=e,galleryCurrentImageIndex=0,updateGalleryColorSelection(e),updateGalleryThumbnails(e),updateGalleryMainImage(e,galleryCurrentImageIndex),updateGalleryCounter(galleryCurrentImageIndex+1,productGalleryImages[e].length))})}))}function initHeroSlider(){let t=document.querySelectorAll(".hero-slide");var e=document.querySelector(".prev-slide"),l=document.querySelector(".next-slide");let o=document.querySelector(".progress-fill"),n=0,r=t.length,i,a=6e3;function c(e){e<0?e=r-1:e>=r&&(e=0),t[n].setAttribute("data-slide-index",""),n=e,t[n].setAttribute("data-slide-index","0"),s(n)}function s(e){o&&(e=(e+1)/r*100,o.style.width=e+"%")}function d(){clearInterval(i),i=setInterval(()=>{c(n+1)},a)}function u(){clearInterval(i),d()}0===r?console.warn("لم يتم العثور على شرائح في السلايدر!"):(s(n),t.forEach((t,l)=>{t=t.querySelector(".image-layer");if(t){var t=t.style.backgroundImage||"";if(t){let e=t.replace(/url\(['"]?(.*?)['"]?\)/i,"$1");e&&((t=new Image).onload=function(){console.log(`تم تحميل الصورة ${l+1} بنجاح`)},t.onerror=function(){console.error(`فشل في تحميل الصورة ${l+1}: `+e)},t.src=e)}}}),e&&l?(e.addEventListener("click",()=>{c(n-1),u()}),l.addEventListener("click",()=>{c(n+1),u()})):console.warn("لم يتم العثور على أزرار التنقل للسلايدر!"),d(),(e=document.querySelector(".hero-section"))&&(e.addEventListener("mouseenter",()=>{clearInterval(i)}),e.addEventListener("mouseleave",()=>{d()})),document.querySelectorAll(".color-option").forEach(e=>{e.addEventListener("click",function(){console.log("تم اختيار اللون:",this.getAttribute("data-color"))})}),l=document.querySelector(".features-btn"),e=document.querySelector(".size-chart-btn"),l&&l.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("onclick")?.match(/scrollToSection\('(.+?)'\)/)?.[1]||"texture-features",e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth"})}),e&&e.addEventListener("click",function(e){e.preventDefault(),"function"==typeof openSizeChart?openSizeChart():console.warn("وظيفة openSizeChart غير معرفة")}),document.querySelectorAll(".hero-cta-button").forEach(e=>{e.addEventListener("click",function(e){var t=this.getAttribute("href");t&&t.startsWith("#")&&(e.preventDefault(),e=document.querySelector(t))&&e.scrollIntoView({behavior:"smooth"})})}))}function initColorShowcase(){document.addEventListener("click",function(e){!mobileMenu.classList.contains("active")||mobileMenu.contains(e.target)||mobileMenuToggle.contains(e.target)||(mobileMenu.classList.remove("active"),mobileMenuToggle.querySelector("i").className="fas fa-bars",body.style.overflow="")}),mobileMenu.addEventListener("click",function(e){e.stopPropagation()})}function initHeaderScrollEffect(){let t=document.querySelector(".main-header"),l=0;window.addEventListener("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;50<e?t.classList.add("scrolled"):t.classList.remove("scrolled"),e>l&&200<e?t.style.transform="translateY(-100%)":t.style.transform="translateY(0)",l=e})}document.addEventListener("DOMContentLoaded",function(){console.log("تم تحميل DOM، جاري تهيئة المكونات..."),initHeroSlider(),initColorShowcase(),initSizeSelection(),initProductSearch(),initSmoothScroll(),initOrderForm(),initMobileMenu(),initHeaderScrollEffect(),document.querySelector(".product-details-gallery-section")?(console.log("تم العثور على قسم المعرض، جاري التهيئة..."),initProductGallery()):console.log("لم يتم العثور على قسم المعرض في الصفحة."),addExtraEventListeners(),initTestimonialsSlider(),initEnhancedTestimonials(),initReviewsGallery()}),window.addEventListener("load",function(){console.log("تم تحميل جميع موارد الصفحة بنجاح (بما في ذلك الصور)");document.querySelector(".product-details-gallery-section")&&(console.log("إعادة تهيئة المعرض بعد تحميل جميع الموارد..."),updateGalleryThumbnails(galleryCurrentColor),updateGalleryColorSelection(galleryCurrentColor),updateGalleryMainImage(galleryCurrentColor,galleryCurrentImageIndex),updateGalleryCounter(galleryCurrentImageIndex+1,productGalleryImages[galleryCurrentColor].length));var e=document.getElementById("product-thumbnails");e&&(e=document.querySelector(".product-color-option.active"))&&(e=e.getAttribute("data-color"))&&(console.log("تحديث الصور المصغرة للمنتج بعد التحميل، اللون: "+e),updateProductThumbnails(e))}),document.querySelectorAll(".header-order-btn, .mobile-order-btn").forEach(e=>{e.addEventListener("click",function(){var e=document.querySelector("#order-form");e&&e.scrollIntoView({behavior:"smooth"})})});let productGalleryImages={black:["public/images/black/full-black.jpg","public/images/black/black-tshirt.jpg"],white:[],silver:["public/images/silver/silver-tshirt.jpg","public/images/silver/full-silver.jpg"],beige:["public/images/beige/full.jpg","public/images/beige/beige-tshirt.jpg"]},galleryCurrentColor="black",galleryCurrentImageIndex=0;function initProductGallery(){console.log("تهيئة معرض صور المنتج...");var e=document.querySelector(".product-details-gallery-section");if(e){var t=Object.keys(productGalleryImages).filter(e=>productGalleryImages[e]&&0<productGalleryImages[e].length);if(!productGalleryImages[galleryCurrentColor]||0===productGalleryImages[galleryCurrentColor].length){if(!(0<t.length))return console.error("لا توجد ألوان مع صور متاحة في productGalleryImages! إخفاء المعرض."),void(e.style.display="none");var l=galleryCurrentColor;galleryCurrentColor=t[0],galleryCurrentImageIndex=0,console.log(`اللون الافتراضي '${l}' لا يحتوي على صور أو غير صالح، تم التغيير إلى أول لون متاح: `+galleryCurrentColor)}updateGalleryColorSelection(galleryCurrentColor),updateGalleryThumbnails(galleryCurrentColor),updateGalleryMainImage(galleryCurrentColor,galleryCurrentImageIndex),updateGalleryCounter(galleryCurrentImageIndex+1,productGalleryImages[galleryCurrentColor]?productGalleryImages[galleryCurrentColor].length:0);let o=e.querySelector(".gallery-nav-button.prev"),n=e.querySelector(".gallery-nav-button.next");o&&n?(o.addEventListener("click",()=>{navigateGallery("prev")}),n.addEventListener("click",()=>{navigateGallery("next")}),(productGalleryImages[galleryCurrentColor]||[]).length<=1?(o.style.display="none",n.style.display="none"):(o.style.display="",n.style.display="")):console.warn("لم يتم العثور على أزرار التنقل في المعرض!");t=e.querySelectorAll(".gallery-color-option");t.length?(t.forEach(l=>{var e=l.dataset.color;productGalleryImages[e]&&0!==productGalleryImages[e].length?l.style.display="":(l.style.display="none",console.log(`إخفاء خيار اللون ${e} لعدم وجود صور.`)),l.addEventListener("click",()=>{var e,t=l.dataset.color;productGalleryImages[t]&&0<productGalleryImages[t].length&&t!==galleryCurrentColor?(galleryCurrentColor=t,galleryCurrentImageIndex=0,updateGalleryColorSelection(t),updateGalleryThumbnails(t),updateGalleryMainImage(t,galleryCurrentImageIndex),e=productGalleryImages[t],updateGalleryCounter(galleryCurrentImageIndex+1,e.length),o&&n&&(e.length<=1?(o.style.display="none",n.style.display="none"):(o.style.display="",n.style.display=""))):productGalleryImages[t]&&0!==productGalleryImages[t].length||console.warn(`تم النقر على لون (${t}) لا يحتوي على صور.`)})}),updateGalleryColorSelection(galleryCurrentColor)):console.warn("لم يتم العثور على خيارات الألوان في المعرض!"),initGalleryZoom(),console.log("اكتملت تهيئة معرض الصور")}else console.error("لم يتم العثور على قسم معرض الصور!")}function updateGalleryThumbnails(i){let a=document.getElementById("gallery-thumbnails");if(a){a.innerHTML="";let r=productGalleryImages[i];r&&0!==r.length?r.length<=1?(a.style.display="none",console.log(`إخفاء الصور المصغرة لوجود صورة واحدة فقط للون ${i}.`)):(a.style.display="",a.classList.add("loading"),setTimeout(()=>{r.forEach((o,n)=>{try{let t=document.createElement("div"),e=(t.className="gallery-thumbnail "+(n===galleryCurrentImageIndex?"active":""),t.dataset.index=n,new Image),l=(e.src=o,e.alt=`طقم ${getColorName(i)} - صورة مصغرة `+(n+1),document.createElement("div"));l.className="thumbnail-loader",l.innerHTML='<div class="spinner"></div>',t.appendChild(l),e.onload=function(){l&&l.parentNode===t&&t.removeChild(l),t.appendChild(e),t.classList.add("loaded")},e.onerror=function(){console.error("فشل في تحميل الصورة المصغرة: "+o),l&&l.parentNode===t&&t.removeChild(l),t.classList.add("error")},t.addEventListener("click",()=>{var e=parseInt(t.dataset.index,10);e!==galleryCurrentImageIndex&&(galleryCurrentImageIndex=e,updateGalleryMainImage(galleryCurrentColor,galleryCurrentImageIndex),updateGalleryThumbnailSelection(galleryCurrentImageIndex),updateGalleryCounter(galleryCurrentImageIndex+1,r.length))}),a.appendChild(t)}catch(e){console.error(`حدث خطأ أثناء إنشاء الصورة المصغرة رقم ${n+1}:`,e)}}),a.classList.remove("loading")},50)):(console.warn(`لا توجد صور متاحة للون: ${i}. إخفاء حاوية الصور المصغرة.`),a.style.display="none")}else console.error("لم يتم العثور على حاوية الصور المصغرة!")}function updateGalleryMainImage(o,n){let r=document.getElementById("current-main-image"),i=document.querySelector(".main-image-container"),a=document.getElementById("main-image-caption");if(r&&i){let l=productGalleryImages[o];if(i.classList.remove("loading","no-image","error"),r.style.opacity="0",l&&0!==l.length){(n<0||n>=l.length)&&(console.warn(`فهرس الصورة (${n}) غير صالح للون ${o}. عدد الصور: ${l.length}. العودة إلى الفهرس 0.`),n=0,galleryCurrentImageIndex=0);let e=l[n],t=`طقم ${getColorName(o)} - صورة `+(n+1);i.classList.add("loading");var c=new Image;c.onload=function(){r.src=e,r.alt=t,i.classList.remove("loading"),r.style.opacity="1",a&&(a.textContent=`طقم ${getColorName(o)} - (${n+1}/${l.length})`)},c.onerror=function(){console.error("فشل تحميل الصورة الرئيسية: "+e),i.classList.remove("loading"),r.src="",r.alt="فشل تحميل الصورة: "+e,i.classList.add("error"),r.style.opacity="1",a&&(a.textContent=`طقم ${getColorName(o)} - خطأ في تحميل الصورة`)},c.src=e}else console.warn(`لا توجد صور للون ${o}. إخفاء الصورة الرئيسية.`),r.src="",r.alt="لا توجد صورة متاحة",i.classList.add("no-image"),a&&(a.textContent=`طقم ${getColorName(o)} - لا توجد صور`)}else console.error("لم يتم العثور على عنصر الصورة الرئيسية (#current-main-image) أو حاويتها (.main-image-container)!")}function updateGalleryThumbnailSelection(t){document.querySelectorAll("#gallery-thumbnails .gallery-thumbnail").forEach(e=>{parseInt(e.dataset.index,10)===t?e.classList.add("active"):e.classList.remove("active")})}function updateGalleryColorSelection(l){document.querySelectorAll(".gallery-color-option").forEach(e=>{var t=e.dataset.color;productGalleryImages[t]&&0<productGalleryImages[t].length?(e.style.display="",t===l?e.classList.add("active"):e.classList.remove("active")):(e.style.display="none",e.classList.remove("active"))})}function navigateGallery(t){var l=productGalleryImages[galleryCurrentColor];if(l&&!(l.length<=1)){l=l.length;let e;(e="prev"===t?(galleryCurrentImageIndex-1+l)%l:(galleryCurrentImageIndex+1)%l)!==galleryCurrentImageIndex&&(galleryCurrentImageIndex=e,updateGalleryMainImage(galleryCurrentColor,galleryCurrentImageIndex),updateGalleryThumbnailSelection(galleryCurrentImageIndex),updateGalleryCounter(galleryCurrentImageIndex+1,l))}}function updateGalleryCounter(e,t){var l=document.getElementById("gallery-counter");l?1<t?(l.textContent=e+" / "+t,l.style.display=""):l.style.display="none":console.warn("لم يتم العثور على عنصر عداد المعرض (#gallery-counter)!")}function initGalleryZoom(){console.log("تهيئة وظيفة تكبير الصورة...");var e=document.querySelector(".zoom-button");let t=document.getElementById("image-zoom-modal"),l=document.getElementById("zoomed-image");var o=document.querySelector(".close-zoom");e?t&&l&&o?(e.addEventListener("click",()=>{console.log("تم النقر على زر التكبير");var e=document.getElementById("current-main-image");e&&(l.src=e.src,l.alt=e.alt,t.style.display="flex")}),o.addEventListener("click",()=>{console.log("تم النقر على زر إغلاق التكبير"),t.style.display="none"}),t.addEventListener("click",e=>{e.target===t&&(console.log("تم النقر على خلفية النافذة المنبثقة"),t.style.display="none")})):console.error("عناصر نافذة التكبير غير مكتملة!"):console.error("زر التكبير غير موجود!")}function getColorName(e){return{black:"الأسود",white:"الأبيض",silver:"الفضي",beige:"البيج"}[e]||e}function initTestimonialsSlider(){var l=document.querySelector(".testimonials-carousel");if(l){let e=l.querySelectorAll(".testimonial");var l=document.querySelector(".prev-testimonial"),o=document.querySelector(".next-testimonial");let t=0;function n(l){e.forEach((e,t)=>{e.classList.toggle("active",t===l)}),t=l}n(0),l&&l.addEventListener("click",()=>{n(t=(t-1+e.length)%e.length)}),o&&o.addEventListener("click",()=>{n(t=(t+1)%e.length)}),setInterval(()=>{n(t=(t+1)%e.length)},5e3)}}function initEnhancedTestimonials(){console.log("تهيئة قسم التقييمات المحسن...");var n=document.querySelector(".testimonials-slider");if(n){let o=n.querySelectorAll(".testimonial-card");if(0===o.length)console.log("لم يتم العثور على بطاقات تقييمات");else{var r=document.querySelector(".prev-testimonial"),i=document.querySelector(".next-testimonial");let e=0,t,l=8e3;function a(l){o.forEach((e,t)=>{e.classList.toggle("active",t===l)}),e=l}function c(){clearInterval(t),t=setInterval(()=>{a((e+1)%o.length)},l)}function s(){clearInterval(t),c()}a(0),r&&r.addEventListener("click",()=>{a((e-1+o.length)%o.length),s()}),i&&i.addEventListener("click",()=>{a((e+1)%o.length),s()}),c(),n.addEventListener("mouseenter",()=>{clearInterval(t)}),n.addEventListener("mouseleave",()=>{c()})}}else console.log("لم يتم العثور على عنصر slider للتقييمات")}function initEgyptianReviews(){var e=document.querySelector(".reviews-gallery");let o=document.querySelector(".see-more-button");if(e&&o){let t=e.querySelectorAll(".review-gallery-item"),l=6;t.forEach((e,t)=>{t>=l&&(e.style.display="none")}),o.addEventListener("click",function(e){e.preventDefault(),l>=t.length?(l=6,o.innerHTML='عرض المزيد من التقييمات <i class="fas fa-chevron-down"></i>',o.classList.remove("expanded"),document.querySelector(".reviews-gallery-section").scrollIntoView({behavior:"smooth",block:"start"})):(l=t.length,o.innerHTML='عرض أقل <i class="fas fa-chevron-up"></i>',o.classList.add("expanded")),t.forEach((e,t)=>{t<l?(e.style.display="",6<=t&&(e.style.animation="fadeInUp 0.5s forwards",e.style.animationDelay=.1*(t-6)+"s")):e.style.display="none"})}),t.forEach(l=>{var o,n;l.querySelector(".review-gallery-overlay");let r=l.querySelector(".review-text");if(r){let e=r.textContent,t=(o=e,n=100,o.length<=n?o:o.substring(0,n)+"...");window.innerWidth<768&&100<e.length&&(r.textContent=t,l.addEventListener("mouseenter",()=>{r.textContent=e}),l.addEventListener("mouseleave",()=>{r.textContent=t}))}})}}function initReviewsGalleryLightbox(){var e=document.querySelectorAll(".review-gallery-item, .main-review-image");if(0!==e.length){if(!document.querySelector(".reviews-lightbox")){let e=document.createElement("div");e.className="reviews-lightbox",e.innerHTML=`
            <div class="lightbox-overlay"></div>
            <div class="lightbox-container">
                <div class="lightbox-content">
                    <img src="" alt="صورة تقييم كبيرة">
                    <div class="lightbox-caption">تجربة العميل مع الطقم</div>
                </div>
                <button class="lightbox-close"><i class="fas fa-times"></i></button>
                <button class="lightbox-nav prev"><i class="fas fa-chevron-right"></i></button>
                <button class="lightbox-nav next"><i class="fas fa-chevron-left"></i></button>
            </div>
        `,document.body.appendChild(e);var a=document.createElement("style");a.textContent=`
            .reviews-lightbox {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                z-index: 9999;
                display: none;
                direction: rtl;
            }
            .reviews-lightbox.active {
                display: block;
                animation: lightboxFadeIn 0.3s ease forwards;
            }
            @keyframes lightboxFadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            .lightbox-overlay {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0,0,0,0.92);
                animation: overlayFadeIn 0.4s ease;
            }
            @keyframes overlayFadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            .lightbox-container {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0.95);
                max-width: 90%;
                max-height: 90%;
                animation: containerZoomIn 0.4s ease forwards;
            }
            @keyframes containerZoomIn {
                from { transform: translate(-50%, -50%) scale(0.9); opacity: 0; }
                to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            }
            .lightbox-content {
                position: relative;
                width: 100%;
                height: 100%;
                text-align: center;
            }
            .lightbox-content img {
                max-width: 100%;
                max-height: 85vh;
                display: block;
                margin: 0 auto;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                border-radius: 5px;
                transition: opacity 0.3s ease;
            }
            .lightbox-caption {
                color: white;
                text-align: center;
                padding: 15px;
                font-size: 18px;
                font-weight: 500;
            }
            .lightbox-close {
                position: absolute;
                top: -50px;
                right: 0;
                background: none;
                border: none;
                color: white;
                font-size: 28px;
                cursor: pointer;
                opacity: 0.8;
                transition: all 0.3s ease;
            }
            .lightbox-close:hover {
                opacity: 1;
                transform: scale(1.1);
            }
            .lightbox-nav {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                background: rgba(255,255,255,0.1);
                color: white;
                border: none;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                opacity: 0.7;
                transition: all 0.3s ease;
            }
            .lightbox-nav:hover {
                background: rgba(255,255,255,0.3);
                opacity: 1;
                transform: translateY(-50%) scale(1.1);
            }
            .lightbox-nav.prev {
                right: -80px;
            }
            .lightbox-nav.next {
                left: -80px;
            }
            .lightbox-nav i {
                font-size: 20px;
            }
            @media (max-width: 992px) {
                .lightbox-nav.prev { right: -60px; }
                .lightbox-nav.next { left: -60px; }
            }
            @media (max-width: 768px) {
                .lightbox-nav.prev { right: 10px; }
                .lightbox-nav.next { left: 10px; }
                .lightbox-nav {
                    width: 40px;
                    height: 40px;
                    background: rgba(0,0,0,0.5);
                }
                .lightbox-close {
                    top: 10px;
                    right: 10px;
                    background: rgba(0,0,0,0.5);
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
            }
        `,document.head.appendChild(a)}let l=document.querySelector(".reviews-lightbox"),o=l.querySelector(".lightbox-content img"),n=l.querySelector(".lightbox-caption");var a=l.querySelector(".lightbox-close"),c=l.querySelector(".lightbox-nav.prev"),s=l.querySelector(".lightbox-nav.next");let r=[],t=[],i=(e.forEach(e=>{e=e.querySelector("img");e&&(r.push(e.src),t.push(e.alt||"صورة تقييم العميل"))}),0);function d(){l.classList.remove("active"),document.body.style.overflow=""}function u(){i=(i-1+r.length)%r.length,g()}function m(){i=(i+1)%r.length,g()}function g(){o.style.opacity="0",setTimeout(()=>{o.src=r[i],o.style.opacity="1"},200)}e.forEach((e,t)=>{e.addEventListener("click",function(){var e=this.querySelector("img");e&&(o.style.opacity="0",o.src=e.src,i=r.indexOf(e.src),n.textContent=e.alt||"صورة تقييم العميل",l.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>{o.style.opacity="1"},100))})}),a.addEventListener("click",d),l.querySelector(".lightbox-overlay").addEventListener("click",d),o.style.transition="opacity 0.3s ease",c.addEventListener("click",u),s.addEventListener("click",m),document.addEventListener("keydown",function(e){l.classList.contains("active")&&("Escape"===e.key?d():"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||("ArrowLeft"===e.key?u:m)())})}}function initReviewsGallery(){var e=document.querySelectorAll(".review-gallery-item"),t=document.querySelector(".see-more-button");window.innerWidth<=768&&setupMobileReviewsInteraction(e),t&&(t.style.display="none"),e.forEach(e=>{e.style.display="",e.style.opacity="1"}),e.forEach(t=>{let l=t.querySelector(".review-text");if(l&&120<l.textContent.length&&768<window.innerWidth){let e=l.textContent;l.setAttribute("data-full-text",e),t.addEventListener("mouseenter",()=>{l.textContent=e}),t.addEventListener("mouseleave",()=>{l.textContent=e.substring(0,120)+"..."}),setTimeout(()=>{l.textContent=e.substring(0,120)+"..."},100)}})}function setupMobileReviewsInteraction(r){if(r.length){let o=document.querySelector(".reviews-gallery"),t,l,n=!1;document.createElement("div").className="review-scroll-indicator",r.forEach((e,t)=>{var l=document.createElement("div");l.className="review-counter",l.textContent=t+1+"/"+r.length,e.appendChild(l);let n=e.querySelector(".review-text");if(n){let o=n.textContent;if(120<o.length){let t=o.substring(0,120)+"...",l=(n.textContent=t,n.setAttribute("data-full-text",o),document.createElement("button"));l.className="read-more-btn",l.textContent="قراءة المزيد",e.querySelector(".review-content").appendChild(l),l.addEventListener("click",e=>{e.stopPropagation(),n.textContent.includes("...")?(n.textContent=o,l.textContent="عرض أقل"):(n.textContent=t,l.textContent="قراءة المزيد")})}}}),o&&(o.addEventListener("mousedown",e=>{n=!0,t=e.pageX,l=o.scrollLeft,o.style.cursor="grabbing"}),o.addEventListener("touchstart",e=>{n=!0,t=e.touches[0].pageX,l=o.scrollLeft}),o.addEventListener("mousemove",e=>{n&&(e.preventDefault(),e=e.pageX-t,o.scrollLeft=l-e)}),o.addEventListener("touchmove",e=>{n&&(e=e.touches[0].pageX-t,o.scrollLeft=l-e)}),o.addEventListener("mouseup",()=>{n=!1,o.style.cursor="grab"}),o.addEventListener("mouseleave",()=>{n=!1,o.style.cursor="grab"}),o.addEventListener("touchend",()=>{n=!1}),o.addEventListener("scroll",()=>{var e=o.scrollLeft,t=r[0].offsetWidth+20;let l=Math.round(e/t);r.forEach((e,t)=>{t===l?e.classList.add("active"):e.classList.remove("active")})})),r.forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=768&&(document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())})})}}function convertArabicToEnglishNumbers(e){if(!e)return"";let t={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};return e.replace(/[٠١٢٣٤٥٦٧٨٩]/g,e=>t[e])}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("href");"#"!==e&&(e=document.querySelector(e))&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})})})}function initScrollEffects(){let e=document.querySelector(".main-header");window.addEventListener("scroll",function(){100<window.scrollY?e.classList.add("scrolled"):e.classList.remove("scrolled")})}function openSizeChart(){console.log("التمرير إلى قسم المقاسات التفاعلي...");let e=document.querySelector(".size-chart-section");var t,l;e?(e.scrollIntoView({behavior:"smooth",block:"start"}),t=document.querySelector('.size-chart-tab-inline[data-tab="chart-calculator"]'),l=document.getElementById("chart-calculator"),t&&!t.classList.contains("active")&&(document.querySelectorAll(".size-chart-tab").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-pane").forEach(e=>e.classList.remove("active")),t.classList.add("active"),l)&&l.classList.add("active"),e.classList.add("highlight-section"),setTimeout(()=>{e.classList.remove("highlight-section")},1500)):console.error("لم يتم العثور على قسم جدول المقاسات!")}function initSizeChartModal(){let t=document.getElementById("sizeChartModal");if(t){var e=t.querySelector(".close-size-chart");e&&e.addEventListener("click",function(){t.classList.remove("show"),document.body.style.overflow=""}),t.addEventListener("click",function(e){e.target===t&&(t.classList.remove("show"),document.body.style.overflow="")});let l=document.querySelectorAll(".size-chart-tab");l.forEach(t=>{t.addEventListener("click",function(){l.forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-pane").forEach(e=>e.classList.remove("active")),t.classList.add("active");var e=t.getAttribute("data-tab");e&&(e=document.getElementById(e))&&e.classList.add("active")})}),document.querySelectorAll(".size-chart-button, .view-size-chart-btn, .check-size-btn").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),openSizeChart()})})}}function initSizeCalculator(){var e=document.querySelectorAll(".size-chart-tab-inline"),e=(e&&0<e.length&&e.forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".size-chart-tab").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-pane").forEach(e=>e.classList.remove("active")),this.classList.add("active");var e=this.getAttribute("data-tab");e&&(e=document.getElementById(e))&&e.classList.add("active")})}),initSlider("heightSlider","heightValue",updateRecommendedSize),initSlider("weightSlider","weightValue",updateRecommendedSize),initSlider("heightSliderInline","heightValueInline",updateRecommendedSizeInline),initSlider("weightSliderInline","weightValueInline",updateRecommendedSizeInline),initUnitToggle(".unit-btn",changeUnits),initUnitToggle(".unit-toggle",toggleChartUnits),document.querySelectorAll(".size-units-toggle .unit-toggle"));e&&0<e.length&&e.forEach(e=>{e.addEventListener("click",function(){document.querySelectorAll(".size-units-toggle .unit-toggle").forEach(e=>e.classList.remove("active")),this.classList.add("active");var e=this.getAttribute("data-unit");"metric"===e?(document.getElementById("metric-table").style.display="table",document.getElementById("imperial-table").style.display="none"):"imperial"===e&&(document.getElementById("metric-table").style.display="none",document.getElementById("imperial-table").style.display="table")})}),updateRecommendedSize(),updateRecommendedSizeInline()}function initSlider(e,t,l){let o=document.getElementById(e),n=document.getElementById(t);o&&n&&(updateSliderBubble(o,n),o.addEventListener("input",()=>{updateSliderBubble(o,n),"function"==typeof l&&l()}))}function initUnitToggle(e,l){let o=document.querySelectorAll(e);o&&0<o.length&&o.forEach(t=>{t.addEventListener("click",()=>{o.forEach(e=>e.classList.remove("active")),t.classList.add("active");var e=t.getAttribute("data-unit");"function"==typeof l&&l(e)})})}function updateRecommendedSizeInline(){var l=document.getElementById("heightSliderInline"),o=document.getElementById("heightValueInline"),n=document.getElementById("weightSliderInline"),e=document.getElementById("weightValueInline");if(l&&n&&o&&e){let e=parseInt(l.value),t=parseInt(n.value);"imperial"===l.getAttribute("data-unit")&&(e=Math.round(2.54*e)),"imperial"===n.getAttribute("data-unit")&&(t=Math.round(t/2.205));o=calculateSize(e,t);document.getElementById("recommendedSizeInline").textContent=o}}function calculateSize(e,t){let l="";return l=e<=165?t<=65?"M":t<=80?"L":"XL":e<=175?t<=60?"M":t<=80?"L":t<=100?"XL":"2XL":e<=185?t<=70?"L":t<=90?"XL":"2XL":t<=80?"XL":"2XL"}function updateSliderBubble(e,t){var l,o;e&&t&&(e=100*((l=e.value)-(o=e.min))/(e.max-o),t.textContent=l,t.style.left=`calc(${e}%)`,t.classList.add("updating"),setTimeout(()=>{t.classList.remove("updating")},200))}function updateSliderMarks(e,t){if(e&&t){var l=parseInt(e.min)||0,o=((parseInt(e.max)||100)-l)/6;t.innerHTML="";for(let e=0;e<=6;e++){var n=document.createElement("span");n.textContent=Math.round(l+o*e),t.appendChild(n)}}}function changeUnits(e){var t,l=document.getElementById("heightSlider"),o=document.getElementById("weightSlider");document.querySelector(".height-field label"),document.querySelector(".weight-field label");"metric"===e?(l&&(l.min="150",l.max="210","imperial"===l.getAttribute("data-unit")&&(l.value=Math.round(2.54*l.value)),l.setAttribute("data-unit","metric"),updateSliderBubble(l,document.getElementById("heightValue")),(t=document.getElementById("heightValue").nextElementSibling)&&(t.textContent="سم"),updateSliderMarks(l,document.querySelector(".height-marks"))),o&&(o.min="40",o.max="160","imperial"===o.getAttribute("data-unit")&&(o.value=Math.round(o.value/2.205)),o.setAttribute("data-unit","metric"),updateSliderBubble(o,document.getElementById("weightValue")),(t=document.getElementById("weightValue").nextElementSibling)&&(t.textContent="كجم"),updateSliderMarks(o,document.querySelector(".weight-marks")))):"imperial"===e&&(l&&(l.min="59",l.max="83","metric"===l.getAttribute("data-unit")&&(l.value=Math.round(l.value/2.54)),l.setAttribute("data-unit","imperial"),updateSliderBubble(l,document.getElementById("heightValue")),(t=document.getElementById("heightValue").nextElementSibling)&&(t.textContent="إنش"),updateSliderMarks(l,document.querySelector(".height-marks"))),o)&&(o.min="88",o.max="352","metric"===o.getAttribute("data-unit")&&(o.value=Math.round(2.205*o.value)),o.setAttribute("data-unit","imperial"),updateSliderBubble(o,document.getElementById("weightValue")),(e=document.getElementById("weightValue").nextElementSibling)&&(e.textContent="رطل"),updateSliderMarks(o,document.querySelector(".weight-marks"))),updateRecommendedSize()}function toggleChartUnits(e){var t=document.getElementById("metric-table"),l=document.getElementById("imperial-table");"metric"===e&&t&&l?(t.style.display="table",l.style.display="none"):"imperial"===e&&t&&l&&(t.style.display="none",l.style.display="table")}function updateRecommendedSize(){var t=document.getElementById("heightSlider"),l=document.getElementById("weightSlider");let o=document.getElementById("recommendedSize");if(t&&l&&o){var t=parseInt(t.value),l=parseInt(l.value),n=document.querySelector(".unit-btn.active")?.getAttribute("data-unit")||"metric";let e="";e="metric"===n?t<=160?l<=60?"S":l<=75?"M":l<=90?"L":l<=105?"XL":"2XL":t<=170?l<=55?"S":l<=70?"M":l<=85?"L":l<=100?"XL":"2XL":t<=180?l<=65?"M":l<=80?"L":l<=95?"XL":"2XL":t<=190?l<=75?"L":l<=90?"XL":"2XL":l<=85?"XL":"2XL":t<=63?l<=132?"S":l<=165?"M":l<=198?"L":l<=231?"XL":"2XL":t<=67?l<=121?"S":l<=154?"M":l<=187?"L":l<=220?"XL":"2XL":t<=71?l<=143?"M":l<=176?"L":l<=209?"XL":"2XL":t<=75?l<=165?"L":l<=198?"XL":"2XL":l<=187?"XL":"2XL",o.textContent=e,o.classList.add("size-updated"),setTimeout(()=>{o.classList.remove("size-updated")},500)}}function initGalleryZoom(){console.log("تهيئة وظيفة تكبير الصورة...");var e=document.querySelector(".zoom-button");let t=document.getElementById("image-zoom-modal"),l=document.getElementById("zoomed-image");var o=document.querySelector(".close-zoom");e?t&&l&&o?(e.addEventListener("click",()=>{console.log("تم النقر على زر التكبير");var e=document.getElementById("current-main-image");e&&(l.src=e.src,l.alt=e.alt,t.style.display="flex")}),o.addEventListener("click",()=>{console.log("تم النقر على زر إغلاق التكبير"),t.style.display="none"}),t.addEventListener("click",e=>{e.target===t&&(console.log("تم النقر على خلفية النافذة المنبثقة"),t.style.display="none")})):console.error("عناصر نافذة التكبير غير مكتملة!"):console.error("زر التكبير غير موجود!")}function docReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function initOrderForm(){console.log("Inicializando formulario de pedido..."),initColorSelection(),initSizeSelection(),initQuantityControls(),initProductControls(),updateTotalPrice();var e=document.getElementById("codOrderForm");e&&e.addEventListener("submit",function(e){e.preventDefault(),submitOrder()})}function initColorSelection(){console.log("Inicializando selección de color..."),document.querySelectorAll(".product-color-option").forEach(e=>{e.addEventListener("click",function(){var e=this.closest(".product-item"),t=this.getAttribute("data-color");e.querySelectorAll(".product-color-option").forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),updateProductPreview(e,t),console.log(`Color seleccionado: ${t} para el producto ID: `+e.getAttribute("data-product-id"))})})}function initSizeSelection(){console.log("Inicializando selección de talla..."),document.querySelectorAll(".size-btn").forEach(e=>{e.addEventListener("click",function(){var e=this.closest(".product-item"),t=this.getAttribute("data-size"),l=(e.querySelectorAll(".size-btn").forEach(e=>{e.classList.remove("active")}),this.classList.add("active"),e.querySelector(".product-preview-size"));l&&(l.textContent="المقاس: "+t),console.log(`Talla seleccionada: ${t} para el producto ID: `+e.getAttribute("data-product-id"))})})}function initQuantityControls(){console.log("Inicializando controles de cantidad..."),document.querySelectorAll(".quantity-controls").forEach(e=>{var t=e.querySelector(".decrease"),l=e.querySelector(".increase");let o=e.querySelector(".product-qty");t&&l&&o&&(t.addEventListener("click",function(){var e=parseInt(o.value);1<e&&(o.value=e-1,updateProductQuantity(this.closest(".product-item")))}),l.addEventListener("click",function(){var e=parseInt(o.value);e<10&&(o.value=e+1,updateProductQuantity(this.closest(".product-item")))}))})}function updateProductQuantity(e){var t;e&&(t=e.querySelector(".product-qty"),e=e.querySelector(".product-preview-qty"),t&&e&&(e.textContent="الكمية: "+t.value),updateTotalPrice())}function updateProductPreview(e,t){if(e&&t){var l=e.querySelector(".product-preview-img");if(l){let e="";switch(t){case"black":e="public/images/black/black-tshirt.jpg";break;case"silver":e="public/images/silver/silver-tshirt.jpg";break;case"beige":e="public/images/beige/beige-tshirt.jpg";break;default:e="public/images/black/black-tshirt.jpg"}l.src=e,l.alt="طقم HELDEN "+getColorName(t)}l=e.querySelector(".product-preview-color");l&&(l.textContent="اللون: "+getColorName(t))}}function initProductControls(){console.log("Inicializando controles de productos...");var t=document.getElementById("addProductBtn"),l=document.getElementById("selectedProductsContainer");if(t&&l){let e=1;l=l.querySelectorAll(".product-item");0<(e=l.length)&&(e=Math.max(...Array.from(l).map(e=>parseInt(e.getAttribute("data-product-id"))||0))),t.addEventListener("click",function(){addNewProduct(++e),updateTotalPrice()}),setupRemoveButtons(),setupDiscountButtons()}}function addNewProduct(e){var t,l,o=document.getElementById("selectedProductsContainer");o&&((t=document.createElement("div")).className="product-item",t.setAttribute("data-product-id",e),t.innerHTML=`
        <div class="product-item-header">
            <h4 class="product-item-title">المنتج #${e}</h4>
            <button type="button" class="remove-product-btn" data-product-id="${e}">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="product-item-options">
            <div class="product-color-selection">
                <label class="form-label">اللون:</label>
                <div class="product-color-options">
                    ${(l=1===e)?`
                    <div class="product-color-option black active" data-color="black">
                        <div class="color-swatch black"></div>
                        <span>أسود</span>
                    </div>
                    <div class="product-color-option beige" data-color="beige">
                        <div class="color-swatch beige"></div>
                        <span>بيج</span>
                    </div>
                    <div class="product-color-option silver" data-color="silver">
                        <div class="color-swatch silver"></div>
                        <span>فضي</span>
                    </div>
                    <div class="product-color-option blue" data-color="blue">
                        <div class="color-swatch blue"></div>
                        <span>أزرق</span>
                    </div>`:`
                    <div class="product-color-option black active" data-color="black">
                        <div class="color-swatch black"></div>
                        <span>أسود</span>
                    </div>
                    <div class="product-color-option beige" data-color="beige">
                        <div class="color-swatch beige"></div>
                        <span>بيج</span>
                    </div>
                    <div class="product-color-option silver" data-color="silver">
                        <div class="color-swatch silver"></div>
                        <span>فضي</span>
                    </div>`}
                </div>
            </div>
            
            <div class="product-sizes">
                <label class="field-label">اختر المقاس:</label>
                <div class="size-selection">
                    ${l?`
                    <button type="button" class="size-btn" data-size="M">M</button>
                    <button type="button" class="size-btn" data-size="L">L</button>
                    <button type="button" class="size-btn active" data-size="XL">XL</button>
                    <button type="button" class="size-btn" data-size="2XL">2XL</button>
                    <button type="button" class="size-btn" data-size="3XL">3XL</button>`:`
                    <button type="button" class="size-btn" data-size="M">M</button>
                    <button type="button" class="size-btn" data-size="L">L</button>
                    <button type="button" class="size-btn active" data-size="XL">XL</button>
                    <button type="button" class="size-btn" data-size="2XL">2XL</button>`}
                </div>
            </div>
            
            <div class="product-quantity">
                <label class="form-label">الكمية:</label>
                <div class="quantity-controls">
                    <button type="button" class="quantity-btn decrease">-</button>
                    <input type="number" class="product-qty" value="1" min="1" max="10" readonly>
                    <button type="button" class="quantity-btn increase">+</button>
                </div>
            </div>
        </div>
        
        <div class="product-item-summary">
            <div class="product-preview">
                <img src="public/images/black/black-tshirt.jpg" alt="تي شيرت أسود" class="product-preview-img">
                <div class="product-preview-details">
                    <span class="product-preview-color">اللون: أسود</span>
                    <span class="product-preview-size">المقاس: XL</span>
                    <span class="product-preview-qty">الكمية: 1</span>
                </div>
            </div>
            <div class="product-price">
                <span class="item-price">599 ج.م</span>
            </div>
        </div>
    `,o.appendChild(t),initColorSelection(),initSizeSelection(),initQuantityControls(),setupRemoveButtons(),console.log("Nuevo producto añadido con ID: "+e))}function setupRemoveButtons(){document.querySelectorAll(".remove-product-btn").forEach(e=>{var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",function(){var e=this.getAttribute("data-product-id"),t=this.closest(".product-item");1<document.querySelectorAll(".product-item").length?(t.remove(),updateTotalPrice(),console.log("Producto eliminado con ID: "+e)):alert("يجب أن يكون هناك منتج واحد على الأقل في الطلب.")})})}function setupDiscountButtons(){var e,t=document.getElementById("addOutfitDiscountBtn"),l=document.getElementById("addThirdOutfitBtn");t&&(e=t.cloneNode(!0),t.parentNode.replaceChild(e,t),e.addEventListener("click",function(){console.log("تم الضغط على زر إضافة طقم آخر");var e=document.querySelectorAll(".product-item");e.length<2?(addNewProduct(e.length+1),updateTotalPrice(),console.log("تم إضافة المنتج الثاني مع خصم 10%")):alert('لقد أضفت بالفعل طقمين. استخدم زر "إضافة الطقم الثالث" للاستفادة من خصم إضافي.')})),l&&(t=l.cloneNode(!0),l.parentNode.replaceChild(t,l),t.addEventListener("click",function(){console.log("تم الضغط على زر إضافة الطقم الثالث");var e=document.querySelectorAll(".product-item");e.length<3?(addNewProduct(e.length+1),updateTotalPrice(),console.log("تم إضافة المنتج الثالث مع خصم 15%")):alert("لقد أضفت بالفعل 3 أطقم، وهو الحد الأقصى لكل طلب.")}))}function updateTotalPrice(){var n=document.querySelectorAll(".product-item").length,r=document.getElementById("totalItems"),i=document.getElementById("totalPrice"),a=document.querySelector(".add-third-outfit"),a=(a&&(a.style.display=2===n?"block":"none"),document.querySelector(".add-outfit-discount:not(.add-third-outfit)"));if(a&&(a.style.display=1===n?"block":"none"),r&&(r.textContent=n),i){let e=0,t=599,l=!1;1===n?(t=599,e=599):2===n?(t=550,e=1100,l=!0):3===n?(t=Math.round(1400/3),e=1400,l=!0):3<n&&(t=Math.round(1400/3),e=t*n,l=!0),i.textContent=e+" ج.م",document.querySelectorAll(".product-item .item-price").forEach(e=>{e.textContent=t+" ج.م"});var a=document.querySelector(".discount-value"),r=document.querySelectorAll(".discount-tier"),c=(a&&(c=(i=599*n)-e,i=Math.round(c/i*100),l?(a.textContent=c+` ج.م (${i}%)`,a.style.color="var(--success-color)"):(a.textContent="0 ج.م (0%)",a.style.color="")),0<r.length&&(r[0].style.opacity=1===n?"1":"0.5",r[1].style.opacity=n<=2?"1":"0.5",2===n?(r[0].classList.add("active-discount"),r[1].classList.remove("active-discount")):3<=n?(r[0].classList.remove("active-discount"),r[1].classList.add("active-discount")):r.forEach(e=>e.classList.remove("active-discount"))),document.querySelector(".original-total-price")),i=(c&&(c.textContent=750*n+" ج.م"),document.querySelector(".order-summary"));let o=i.querySelector(".discount-notification");l?(o||((o=document.createElement("div")).className="discount-notification",i.appendChild(o)),o.textContent=`🎉 تم تطبيق خصم ${2===n?"10%":"15%"}!`,o.style.display="block",setTimeout(()=>{o&&"none"!==o.style.display&&(o.style.display="none")},4e3)):o&&(o.style.display="none")}}function submitOrder(){console.log("Procesando envío del pedido...");var e=document.getElementById("fullName").value,l=document.getElementById("mobileNumber").value,o=document.getElementById("governorate").value,r=document.getElementById("detailedAddress").value,i=document.getElementById("orderNotes").value;if(e&&l&&o&&r){let n=[];document.querySelectorAll(".product-item").forEach(e=>{var t=e.getAttribute("data-product-id"),l=e.querySelector(".product-color-option.active"),o=e.querySelector(".size-btn.active"),e=e.querySelector(".product-qty"),l=l?l.getAttribute("data-color"):"black",o=o?o.getAttribute("data-size"):"L",e=e?e.value:1;n.push({id:t,color:l,size:o,quantity:e})});var a="SO-"+Math.floor(1e5+9e5*Math.random());let t={id:a,order_number:a,customer_name:e,customer_mobile:l,customer_governorate:o,customer_address:r,customer_notes:i,products:n,total_items:n.length,total_price:document.getElementById("totalPrice").textContent,order_date:(new Date).toISOString(),status:"pending"};console.log("Datos del pedido:",t);fetch("https://hook.eu2.make.com/a57g4b7o4x4f1qzh7wtjpme6tgr42xcl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");console.log("Order submitted successfully"),localStorage.setItem("lastOrder",JSON.stringify(t)),window.location.href="confirm.html"}).catch(e=>{console.error("Error:",e),alert("حدث خطأ أثناء معالجة طلبك. يرجى المحاولة مرة أخرى.")})}else alert("يرجى ملء جميع الحقول المطلوبة قبل إرسال الطلب.")}function closeSuccessModal(){document.getElementById("successModal").classList.remove("show")}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("mobileNumber");e&&e.addEventListener("input",function(){var e=this.selectionStart,t=this.value.length;this.value=convertArabicToEnglishNumbers(this.value),this.value.length!==t&&this.setSelectionRange(e,e)})}),document.addEventListener("DOMContentLoaded",()=>{initHeroSlider(),initColorShowcase(),initSizeSelection(),initProductSearch(),initMobileMenu(),initSmoothScroll(),initScrollEffects()}),docReady(function(){initHeroSlider(),initColorShowcase(),initHeaderScrollEffect(),initProductGallery(),initEnhancedTestimonials(),initEgyptianReviews(),initReviewsGalleryLightbox(),initReviewsGallery(),initSmoothScroll(),initScrollEffects(),enhanceIconsInteractivity(),addCSSAnimations(),initSizeChartModal(),initSizeCalculator(),initGalleryZoom(),initSizeChartSection(),initInlineSizeChart()}),document.addEventListener("DOMContentLoaded",function(){initOrderForm()});